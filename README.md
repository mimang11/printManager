# 打印机 BI 管理系统

基于 Electron + React + TypeScript 的打印机数据管理和 BI 分析系统。

## 功能特性

- **设备管理** - 添加/编辑/删除打印机，自动抓取计数器数据
- **数据看板** - KPI 指标、印量走势图、设备贡献占比
- **时间切换** - 支持按日/月/年查看数据
- **营收管理** - 每台机器明细、其他收入、自定义公式
- **数据对比** - 日/周/月环比分析

## 快速开始

### 环境要求

- Node.js >= 18
- npm >= 9

### 安装依赖

```bash
npm install
```

### 开发运行

```bash
# 编译主进程
npx tsc -p tsconfig.main.json

# 编译渲染进程
npx vite build

# 启动应用
npx electron .
```

### 打包发布

```bash
npm run dist
```

打包后的 exe 文件在 `release/` 目录。

## 使用说明

### 1. 添加打印机

1. 进入「设备管理」页面
2. 点击「添加打印机」
3. 填写别名、抓取地址、CSS选择器
4. 设置单张成本和售价（可选自定义公式）
5. 点击「测试抓取」验证配置
6. 保存

### 2. 查看数据

- **数据看板** - 查看总印量、营收、利润等 KPI
- 使用顶部选择器切换 按日/按月/按年 视图
- 点击 KPI 卡片查看详细明细

### 3. 营收管理

- 查看每台机器的每日数据
- 添加其他收入（带备注）
- 自动计算总营业额和纯利润

## 技术栈

- **Electron** - 桌面应用框架
- **React 18** - UI 框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **Recharts** - 图表库
- **Axios + Cheerio** - 网页抓取

## 许可证

MIT
